---
import ArticlePreviewList from '../components/article-preview-list.astro';
import BaseLayout from '../layouts/base-layout.astro';
import * as sanity from '../lib/sanity.js';

const articles = await sanity.query(/* groq */ `
  *[_type == 'article' && publishedAt <= now()] | order(publishedAt desc) {
    ${sanity.fragments.article}
  }
`);

---

<BaseLayout title="Artikelen">
  <main class="[ container ] [ py-900 ]">
    <h1 class="[ gentle-heading ] [ mb-200 ]">Recente Artikelen</h1>
    <ArticlePreviewList articles={articles} />
  </main>
</BaseLayout>
